---
title: "[웹브라우저 자바스크립트] 자바스크립트의 DOM"
layout: post
date: 2018-06-14 15:07
image: /assets/images/markdown.jpg
headerImage: false
tag:
- Web
- JavaScript
- jQuery
- 강의노트
star: false
category: blog
categories: Web
author: Dan
description: 웹브라우저 자바스크립트
---

## 목록
1. <a href="#one">제어 대상(객체) 찾기</a><br>
2. <a href="#two">HTMLElement & HTMLCollection</a><br>
3. <a href="#three">jQuery 객체</a><br>
4. <a href="#four">Element 객체</a><br>
5. <a href="#five">Node 객체</a><br>


---
## DOM
<div class="underlined"></div>
: <span class="evidence-yellow">**DOM**(Document Object Model)</span>은 웹페이지를 자바스크립트로 제어하기 위한 객체 모델로, 윈도우에 로드된 문서를 의미한다. window 객체의 **document 프로퍼티** 를 이용한다.
<br>
![Markdown Image][3]{: id="rebox" alt="DOM Tree"}

<div id="one"></div>
## 1. 제어 대상(객체) 찾기
<div class="underlined"></div>
### 1.1. document.getElementsByTagName
: 인자로 전달된 태그명에 해당하는 객체들을 찾아서 그 리스트를 **Nodelist** 로 반환한다.

* 예시 코드
{% highlight html %}
  <!DOCTYPE html>
  <html>
  <body>
  <ul>
      <li>HTML</li>
      <li>CSS</li>
      <li>JavaScript</li>
  </ul>
  <ol>
      <li>HTML</li>
      <li>CSS</li>
      <li>JavaScript</li>
  </ol>
  <script>
      var ul = document.getElementsByTagName('ul')[0];
      var lis = ul.getElementsByTagName('li');
      for(var i=0; lis.length; i++){
          lis[i].style.color='red';   
      }
  </script>
  </body>
  </html>
{% endhighlight %}

#### 결과
![Markdown Image][4]{: id="rebox" alt=""}
<div class="breaker"></div>
### 1.2. document.getElementsByClassName
: class 속성의 값을 기준으로 객체를 조회

* 예시 코드
{% highlight html %}
<!DOCTYPE html>
<html>
<body>
<ul>
    <li>HTML</li>
    <li class="active">CSS</li>
    <li class="active">JavaScript</li>
</ul>
<script>
    var lis = document.getElementsByClassName('active');
    for(var i=0; i < lis.length; i++){
        lis[i].style.color='red';   
    }
</script>
</body>
</html>
{% endhighlight %}

#### 결과
![Markdown Image][5]{: id="rebox" alt=""}

<div class="breaker"></div>
### 1.3. document.getElementById
: id 값을 기준으로 객체를 조회. 성능 면에서 가장 우수하다.

* 예시 코드
{% highlight html %}
<!DOCTYPE html>
<html>
<body>
<ul>
    <li>HTML</li>
    <li id="active">CSS</li>
    <li>JavaScript</li>
</ul>
<script>
    var li = document.getElementById('active');
    li.style.color='red';
</script>
</body>
</html>
{% endhighlight %}

#### 결과
![Markdown Image][6]{: id="rebox" alt=""}

<div class="breaker"></div>
### 1.4. document.querySelector
: css 선택자의 문법을 이용해 조회

* 예시 코드
{% highlight html %}
<!DOCTYPE html>
<html>
<body>
<ul>
    <li>HTML</li>
    <li>CSS</li>
    <li>JavaScript</li>
</ul>
<ol>
    <li>HTML</li>
    <li class="active">CSS</li>
    <li>JavaScript</li>
</ol>

<script>
    var li = document.querySelector('li');
    li.style.color='red';
    var li = document.querySelector('.active');
    li.style.color='blue';
</script>
</body>
</html>
{% endhighlight %}

#### 결과
![Markdown Image][7]{: id="rebox" alt=""}

* **document.querySelectorAll**: querySelector와 동작방법은 같지만, 모든 객체를 조회한다는 차이점이 있다.

<div class="breaker"></div>
### 1.5. jQuery로 조회하기
: jQuery는 객체를 조회할 때 css 선택자를 이용한다.

* 예시 코드
{% highlight html %}
<!DOCTYPE html>
<html>
<head>
    <style>
    #demo{width:200px;float: left; margin-top:120px;}
    #execute{float: left; margin:0; font-size:0.9em;}
    #execute{padding-left: 5px}
    #execute li{list-style: none}
    #execute pre{border:1px solid gray; padding:10px;}
    </style>
</head>
<body>
<ul id="demo">
    <li class="active">HTML</li>
    <li id="active">CSS</li>
    <li class="active">JavaScript</li>
</ul>
<ul id="execute">
    <li>
        <pre>
var lis = document.getElementsByTagName('li');
for(var i=0; i&lt;lis.length; i++){
    lis[i].style.color='red';   
</pre>
        <pre>
$('li').css('color', 'red')     </pre>
        <input type="button" value="execute" onclick="$('li').css('color', 'red')" />
    </li>
    <li>
        <pre>
var lis = document.getElementsByClassName('active');
for(var i=0; i &lt; lis.length; i++){
    lis[i].style.color='red';   
}</pre>
        <pre>
$('.active').css('color', 'red')</pre>
        <input type="button" value="execute" onclick="$('.active').css('color', 'red')" />
    </li>
    <li>
        <pre>
var li = document.getElementById('active');
li.style.color='red';
li.style.textDecoration='underline';</pre>
        <pre>
$('$active').css('color', 'red').css('textDecoration', 'underline');
        </pre>
        <input type="button" value="execute" onclick="$('#active').css('color', 'red').css('textDecoration', 'underline')" />
    </li>
</ul>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
</body>
</html>
{% endhighlight %}

<div class="breaker"></div>
<div id="two"></div>
## 2. HTMLElement & HTMLCollection
<div class="underlined"></div>
: getElement* 메소드의 실행 결과가 하나인 경우 **HTMLElement**, 복수인 경우 **HTMLCollection** 을 리턴한다.

### 2.1. HTMLElement
: element의 성격에 따라 HTMLLIElement, HTMLAnchroElement, HTMLInputElement 등으로 나뉜다. 이들은 모두 조금씩 다른 프로퍼티를 가지지만, **모두 HTMLElement를 상속받는다** 는 공통점이 있다.

<div class="breaker"></div>

### 2.2. HTMLCollection
: HTMLCollection에서는 실시간으로 변경사항이 적용되기 때문에 element를 다시 조회할 필요가 없다.

* 예시 코드: element를 다시 조회하지 않아도 삭제된 CSS가 화면에 표시되지 않는다.
{% highlight html %}
  <!DOCTYPE html>
  <html>
  <body>
  <ul>
      <li>HTML</li>
      <li>CSS</li>
      <li id="active">JavaScript</li>
  </ul>
  <script>
  console.group('before');
  var lis = document.getElementsByTagName('li');
  for(var i = 0; i < lis.length; i++){
      console.log(lis[i]);
  }
  console.groupEnd();
  console.group('after');
  lis[1].parentNode.removeChild(lis[1]);
  for(var i = 0; i < lis.length; i++){
      console.log(lis[i]);
  }
  console.groupEnd();
  </script>
  </body>
  </html>
{% endhighlight %}

#### 결과
![Markdown Image][8]{: id="rebox" alt=""}
